@import url('https://fonts.googleapis.com/css2?family=Georama:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap');

@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:where(.dark, .dark *));

html,
body {
	@apply h-dvh w-dvw overflow-hidden bg-[url('/images/wallpaper.png')] bg-cover bg-center bg-no-repeat;
}

:root {
	--mobile-navbar-height: 61px;
	--mobile-window-header-height: 48px;
	--z-navbar: 2147483000;
	--z-theme-menu: 2147483100;
	--z-theme-dropdown: 2147483200;
}

:root.theme-switching *,
:root.theme-switching *::before,
:root.theme-switching *::after {
	transition-property:
		background-color, border-color, color, fill, stroke, box-shadow;
	transition-duration: 260ms;
	transition-timing-function: ease;
}

@theme {
	--font-georama: 'Georama', sans-serif;
	--font-roboto: 'Roboto Mono', monospace;
	--breakpoint-3xl: 1920px;
	--breakpoint-xs: 360px;

	--color-dark-800: rgba(255, 255, 255, 0.1);
	--color-dark-700: #1e1e1e;
	--color-dark-500: rgba(30, 30, 30, 0.8);
	--color-dark-300: #323232;
	--color-dark-100: rgba(255, 255, 255, 0.25);
}

@utility flex-center {
	@apply flex items-center justify-center;
}

@utility col-center {
	@apply flex flex-col items-center justify-center;
}

@utility abs-center {
	@apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
}

@layer base {
	main {
		@apply h-dvh w-dvw overflow-hidden;
	}

	nav {
		@apply dark:bg-dark-700/50 relative flex items-center justify-between bg-white/50 p-2 px-5 text-black backdrop-blur-3xl select-none max-sm:hidden dark:text-white;
		z-index: var(--z-navbar);

		> div {
			@apply flex items-center gap-5;
		}

		> div > ul {
			@apply flex items-center gap-5;

			button,
			p {
				@apply cursor-pointer text-sm transition-all hover:underline;
			}
		}

		> div > ul > li {
			@apply flex items-center justify-center;
		}

		time {
			@apply flex items-center self-center text-sm leading-none font-medium text-black dark:text-white;
		}
	}
}

@layer components {
	.icon,
	.icon-hover {
		@apply dark:hover:bg-dark-500 cursor-pointer rounded p-1 align-middle hover:bg-gray-200;
	}

	.theme-menu {
		@apply relative;
		z-index: var(--z-theme-menu);
	}

	.theme-trigger {
		@apply flex cursor-pointer items-center justify-center outline-none;
	}

	.theme-items {
		@apply dark:border-dark-300 dark:bg-dark-700 min-w-32 rounded-md border border-gray-300 bg-white p-1 shadow-md;
		z-index: var(--z-theme-dropdown);
	}

	.theme-item {
		@apply relative flex w-full cursor-pointer items-center justify-start gap-2 rounded-sm px-2 py-1.5 text-left text-sm text-black no-underline select-none dark:text-white;
	}

	.theme-item svg {
		@apply size-4 shrink-0 text-gray-700 dark:text-white/80;
	}

	.theme-item:hover {
		@apply dark:bg-dark-500 bg-gray-100;
	}

	.theme-item-active {
		@apply bg-gray-200 dark:bg-white/12;
	}

	#mobile-navbar {
		@apply relative z-[10000] hidden h-[var(--mobile-navbar-height)] items-center justify-between gap-5 px-5 text-white max-sm:flex;

		&.mobile-navbar-opaque {
			@apply dark:bg-dark-700/95 dark:border-dark-500 border-b border-gray-200 bg-white/95 text-black backdrop-blur-md dark:text-white;
		}

		.mobile-notch {
			@apply h-9 w-[50%] max-w-52 min-w-40 shrink-0 rounded-full bg-black/95 shadow-[0_0_0_1px_rgba(255,255,255,0.12)];
		}

		ul {
			@apply flex items-center gap-2;
		}
	}

	#welcome {
		@apply absolute top-1/2 left-1/2 flex -translate-x-1/2 -translate-y-1/2 flex-col items-center justify-center text-gray-200 select-none;
	}

	#dock {
		@apply absolute bottom-5 left-1/2 z-50 -translate-x-1/2 px-5 select-none max-sm:w-full;

		.dock-container {
			@apply flex items-end justify-between gap-1.5 rounded-2xl bg-white/20 p-1.5 backdrop-blur-md transition-colors duration-300 max-sm:w-full max-sm:rounded-3xl max-sm:px-3;
		}

		.tooltip {
			@apply !w-fit !rounded-md !bg-blue-200 !px-3 !py-1 !text-center !text-xs !text-blue-900 !shadow-2xl;
		}

		.dock-icon {
			@apply 3xl:size-20 size-14 cursor-pointer max-sm:size-full;

			img {
				@apply object-cover object-center;
			}
		}
	}

	.window-controls {
		@apply flex gap-2;

		.close {
			@apply size-3.5 cursor-pointer rounded-full bg-[#ff6157];
		}

		.minimize {
			@apply size-3.5 rounded-full bg-[#ffc030];
		}

		.maximize {
			@apply size-3.5 rounded-full bg-[#2acb42];
		}
	}

	.window-header {
		@apply dark:bg-dark-300 dark:border-dark-300 flex items-center justify-between rounded-t-lg border-b border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-400 transition-colors duration-300 select-none;
	}

	.window-header-spacer {
		@apply h-3.5 w-[3.625rem] shrink-0;
	}

	#safari {
		@apply dark:bg-dark-700 top-40 left-2/12 w-4xl overflow-hidden rounded-xl bg-white shadow-2xl drop-shadow-2xl transition-colors duration-300 select-none max-sm:hidden sm:absolute;

		.search {
			@apply dark:bg-dark-500 dark:border-dark-300 flex w-2/3 items-center gap-3 rounded-lg border border-gray-300 bg-white px-3 py-2;

			input {
				@apply placeholder:text-gray-400;
			}
		}

		.blog {
			@apply dark:bg-dark-700 mx-auto max-w-3xl bg-white p-10;

			h2 {
				@apply mb-10 text-xl font-bold text-pink-600;
			}

			.blog-post {
				@apply grid grid-cols-12 space-x-5;

				img {
					@apply size-full rounded-md object-cover;
				}

				.content {
					@apply col-span-10 space-y-3;

					p {
						@apply text-xs text-gray-500 dark:text-white;
					}

					h3 {
						@apply text-base font-semibold text-gray-800 dark:text-white;
					}

					a {
						@apply flex items-center gap-3 text-xs text-blue-600 hover:underline;
					}
				}
			}
		}
	}

	#mobile-safari {
		@apply dark:bg-dark-700 absolute top-[var(--mobile-navbar-height)] z-[60] h-[calc(100dvh-var(--mobile-navbar-height))] w-screen overflow-y-auto bg-white transition-colors duration-300 select-none sm:hidden;

		.blog {
			@apply dark:bg-dark-700 mx-auto max-w-3xl bg-white px-4 py-5;

			h2 {
				@apply mb-10 text-xl font-bold text-pink-600;
			}

			.blog-post {
				@apply grid grid-cols-1 gap-3;

				img {
					@apply h-44 w-full rounded-xl object-cover;
				}

				.content {
					@apply space-y-2;

					p {
						@apply text-xs text-gray-500 dark:text-white;
					}

					h3 {
						@apply text-base leading-5 font-semibold text-gray-800 dark:text-white;
					}

					a {
						@apply flex items-center gap-3 text-xs text-blue-600 hover:underline;
					}
				}
			}
		}

		footer {
			@apply dark:bg-dark-700 dark:border-dark-300 fixed inset-x-0 bottom-0 w-full rounded-t-2xl border-t border-gray-200 bg-slate-100 px-4 pt-2 pb-4 transition-colors duration-300;

			.search {
				@apply dark:bg-dark-500 dark:border-dark-300 flex w-full items-center gap-3 rounded-lg border border-gray-300 bg-white px-3 py-2;

				input {
					@apply outline-none placeholder:text-gray-400;
				}
			}

			div {
				@apply mt-4 flex flex-wrap items-center justify-between gap-4;
			}

			.mobile-safari-action {
				@apply xs:size-8 flex-center size-7;
			}
		}
	}

	#terminal {
		@apply dark:bg-dark-700 absolute top-32 left-1/12 w-xl overflow-hidden rounded-xl bg-white shadow-2xl drop-shadow-2xl transition-colors duration-300 max-sm:hidden;

		h2 {
			@apply w-full text-center text-sm font-bold;
		}

		.techstack {
			@apply font-roboto p-5 text-sm text-black dark:text-white;

			.label {
				@apply ms-10 mt-7 flex items-center;
			}

			.content {
				@apply my-5 space-y-1 border-y border-dashed py-5;

				li {
					.check {
						@apply w-5 text-[#00A154];
					}

					h3 {
						@apply ms-5 w-32 font-semibold text-[#00A154];
					}

					ul {
						@apply flex items-center gap-3;
					}
				}
			}

			.footnote {
				@apply space-y-2 text-[#00A154];

				p {
					@apply flex items-center;

					svg {
						@apply me-5 w-5;
					}
				}
			}
		}
	}

	#mobile-terminal {
		@apply dark:bg-dark-700 absolute top-[var(--mobile-navbar-height)] z-[60] h-[calc(100dvh-var(--mobile-navbar-height))] w-screen overflow-y-auto bg-white transition-colors duration-300 select-none sm:hidden;

		.techstack {
			@apply font-roboto p-5 text-sm leading-relaxed text-black dark:text-white;

			.content {
				@apply my-7 space-y-5 border-b border-dashed pb-10;

				.check {
					@apply w-5 text-[#00A154];
				}

				h3 {
					@apply ms-2 w-32 font-semibold text-[#00A154];
				}

				ul {
					@apply ms-7 mt-2 flex flex-col gap-1;

					li {
						@apply before:mr-2 before:content-['-'];
					}
				}
			}

			.footnote {
				@apply space-y-2 text-[#00A154];

				p {
					@apply flex items-center;

					svg {
						@apply me-5 w-5;
					}
				}
			}
		}
	}

	#contact {
		@apply dark:bg-dark-700 absolute top-60 left-5/12 max-w-2xl overflow-hidden rounded-xl bg-white text-black shadow-2xl drop-shadow-2xl transition-colors duration-300 max-sm:hidden dark:text-white;

		h2 {
			@apply w-full text-center text-sm font-bold;
		}

		h3 {
			@apply text-xl font-semibold;
		}

		ul {
			@apply flex items-center gap-3;

			li {
				@apply w-60 origin-center rounded-lg p-3 transition-all duration-300 hover:-translate-y-0.5 hover:scale-105;

				a {
					@apply space-y-5;
				}

				p {
					@apply text-sm font-semibold text-white;
				}
			}
		}
	}

	#mobile-contact {
		@apply dark:bg-dark-700 absolute top-[var(--mobile-navbar-height)] z-[60] h-[calc(100dvh-var(--mobile-navbar-height))] w-screen overflow-y-auto bg-white transition-colors duration-300 select-none sm:hidden;

		.content {
			@apply flex flex-col items-center space-y-5 px-5 py-6;

			h3 {
				@apply text-center text-xl font-semibold text-black dark:text-white;
			}

			p {
				@apply max-w-xs text-center text-[15px] leading-6 text-black dark:text-white;
			}

			ul {
				@apply flex flex-wrap items-center gap-3;

				li {
					@apply w-full origin-center rounded-lg p-3 transition-all duration-300 hover:-translate-y-0.5 hover:scale-105;

					a {
						@apply flex items-center gap-4;
					}

					p {
						@apply text-start text-sm font-semibold text-white;
					}
				}
			}
		}
	}

	#photos {
		@apply dark:bg-dark-700 absolute top-96 left-1/2 max-w-3xl -translate-y-1/2 overflow-hidden rounded-xl bg-white shadow-2xl drop-shadow-2xl transition-colors duration-300 max-sm:hidden;

		.sidebar {
			@apply dark:bg-dark-300 dark:border-dark-500 flex w-3/12 flex-none flex-col border-r border-gray-200 bg-gray-50 p-5 text-black dark:text-white;

			h2 {
				@apply dark:text-dark-100 mb-3 text-xs font-medium text-gray-400;
			}

			ul {
				@apply flex flex-col gap-1.5;

				li {
					@apply flex cursor-pointer items-center gap-2 space-y-1 rounded-md px-3 py-2 transition-colors;

					&:first-child {
						@apply dark:bg-dark-800 bg-blue-100 text-blue-700 dark:text-white;
					}

					img {
						@apply w-4;
					}

					p {
						@apply text-sm font-normal;
					}
				}
			}
		}

		.gallery {
			@apply p-5;
		}
	}

	.gallery-grid {
		@apply grid grid-cols-5 grid-rows-5 gap-2.5;

		li {
			img {
				@apply size-full rounded-lg object-cover;
			}

			&:first-child {
				@apply col-span-3 col-start-1 row-span-3 row-start-1;
			}

			&:nth-child(2) {
				@apply col-span-2 col-start-4 row-span-3 row-start-1;
			}

			&:nth-child(3) {
				@apply col-span-3 col-start-3 row-span-2 row-start-4;
			}

			&:last-child {
				@apply col-span-2 col-start-1 row-span-2 row-start-4;
			}
		}
	}

	#mobile-photos {
		@apply dark:bg-dark-700 absolute top-[var(--mobile-navbar-height)] z-[60] h-[calc(100dvh-var(--mobile-navbar-height))] w-screen overflow-y-auto bg-white transition-colors duration-300 select-none sm:hidden;

		.gallery {
			@apply px-4 py-5;

			ul {
				@apply max-xs:grid-cols-1 grid grid-cols-2 gap-2.5;

				li {
					button {
						@apply w-full transition-transform duration-300 active:scale-95;
					}

					img {
						@apply h-52 w-full rounded-lg object-cover;
					}
				}
			}
		}
	}

	#resume {
		@apply dark:bg-dark-700 absolute top-16 left-7/12 h-fit w-fit overflow-hidden rounded-xl bg-white shadow-2xl drop-shadow-2xl transition-colors duration-300 max-sm:hidden;

		.window-header {
			h2 {
				@apply flex-1 text-center text-sm font-bold;
			}
		}

		.resume-pdf {
			@apply dark:hue-rotate-180 dark:invert dark:filter;
		}
	}

	#mobile-resume {
		@apply dark:bg-dark-700 absolute top-[var(--mobile-navbar-height)] z-[60] flex h-[calc(100dvh-var(--mobile-navbar-height))] w-screen flex-col overflow-hidden bg-white transition-colors duration-300 select-none sm:hidden;

		.resume-pdf {
			@apply h-fit w-full object-contain object-center;
		}
	}

	#finder {
		@apply absolute top-20 left-40 w-3xl overflow-hidden rounded-xl shadow-2xl drop-shadow-2xl transition-colors duration-300 max-sm:hidden;

		.sidebar {
			@apply dark:bg-dark-300 dark:border-dark-500 flex w-48 flex-col space-y-3 border-r border-gray-200 bg-gray-50 p-5;

			h3 {
				@apply dark:text-dark-100 mb-1 text-xs font-medium text-gray-400;
			}

			ul {
				@apply space-y-1;

				.active {
					@apply dark:bg-dark-800 bg-blue-100 text-blue-700 dark:text-white;
				}

				.not-active {
					@apply hover:dark:bg-dark-800 text-gray-700 hover:bg-gray-200 dark:text-white;
				}

				li {
					@apply flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 transition-colors;
				}
			}
		}

		.content {
			@apply dark:bg-dark-700 relative max-w-2xl flex-1 bg-white p-8 text-black dark:text-white;

			li {
				@apply absolute flex flex-col items-center gap-3;

				img {
					@apply relative size-16 object-contain object-center group-hover:scale-105;
				}

				p {
					@apply w-40 text-center text-sm font-medium;
				}
			}

			.finder-item-button {
				@apply flex cursor-pointer flex-col items-center gap-2 rounded-lg px-2 py-1 select-none;
			}

			.finder-item-icon {
				@apply rounded-md p-1 transition-colors;
			}

			.finder-item-name {
				@apply w-40 rounded px-1.5 py-0.5 text-center text-sm font-medium transition-colors;
			}

			.finder-item-selected {
				.finder-item-icon {
					@apply bg-gray-950/10;
				}

				.finder-item-name {
					@apply bg-blue-500 text-white;
				}
			}
		}

		.photos-view {
			@apply dark:bg-dark-700 flex-1 bg-white p-5;

			.photos-gallery {
				@apply h-[420px];

				.finder-photo-button {
					@apply cursor-pointer rounded-lg p-1 transition-colors;
				}

				.finder-photo-selected {
					@apply bg-gray-950/10;
				}
			}
		}
	}

	#mobile-finder {
		@apply dark:bg-dark-700 absolute top-[var(--mobile-navbar-height)] z-[60] h-[calc(100dvh-var(--mobile-navbar-height))] w-screen overflow-y-auto bg-white transition-colors duration-300 select-none sm:hidden;

		.breadcrumb {
			@apply dark:bg-dark-300 dark:border-dark-500 sticky top-[var(--mobile-window-header-height)] z-20 flex items-center overflow-x-auto border-b border-gray-200 bg-gray-50 px-4 py-2.5 transition-colors duration-300;

			button {
				@apply text-sm whitespace-nowrap text-blue-500;
			}
		}

		.finder-gallery {
			@apply px-4 py-5;

			ul {
				@apply max-xs:grid-cols-2 grid grid-cols-3 gap-4;

				li {
					button {
						@apply w-full cursor-pointer rounded-xl transition-transform hover:scale-105 active:scale-95 active:bg-blue-100/30 dark:active:bg-blue-900/30;
					}

					.finder-item {
						@apply flex flex-col items-center gap-2;

						.folder-icon {
							@apply h-20 w-20 object-contain;
						}

						.file-icon {
							@apply h-20 w-20 rounded-lg object-contain;
						}

						.item-name {
							@apply line-clamp-2 w-full px-1 text-center text-xs leading-4 font-medium text-black dark:text-white;
						}
					}
				}
			}
		}
	}

	#txtfile {
		@apply dark:bg-dark-700 absolute top-36 right-32 w-md overflow-hidden rounded-xl bg-white text-black shadow-2xl drop-shadow-2xl transition-colors duration-300 max-sm:hidden dark:text-white;

		h2 {
			@apply w-full text-center text-sm font-bold;
		}
	}

	#mobile-txtfile {
		@apply dark:bg-dark-700 absolute top-[var(--mobile-navbar-height)] z-[60] flex h-[calc(100dvh-var(--mobile-navbar-height))] w-screen flex-col overflow-hidden bg-white transition-colors duration-300 select-none sm:hidden;
	}

	#imgfile {
		@apply dark:bg-dark-700 absolute top-40 left-2/12 w-xl overflow-hidden rounded-xl bg-white shadow-2xl drop-shadow-2xl transition-colors duration-300 max-sm:hidden;

		.window-header {
			h2 {
				@apply font-bold text-[#5f6266] dark:text-white;
			}
		}

		.preview {
			@apply dark:bg-dark-700 max-h-[70vh] bg-gray-200 p-2;

			img {
				@apply h-fit w-full object-contain object-center;
			}
		}
	}

	#mobile-imgfile {
		@apply dark:bg-dark-700 absolute top-[var(--mobile-navbar-height)] z-[60] flex h-[calc(100dvh-var(--mobile-navbar-height))] w-screen flex-col overflow-hidden bg-white transition-colors duration-300 select-none sm:hidden;

		.preview {
			@apply dark:bg-dark-700 flex min-h-full items-center bg-gray-100/10 px-5 py-2;

			img {
				@apply h-fit w-full object-contain object-center;
			}
		}
	}

	.mobile-file-scroll {
		@apply min-h-0 flex-1 overflow-y-auto;
	}

	#home {
		@apply relative z-0 max-sm:hidden;

		ul {
			li {
				@apply absolute z-0 flex flex-col items-center select-none;

				img {
					@apply rounded-md p-1 group-hover:bg-gray-950/10;
				}

				p {
					@apply max-w-40 rounded-md px-1 text-center text-sm text-white transition-colors group-hover:bg-blue-500;
				}
			}
		}

		.home-item-selected {
			img {
				@apply bg-gray-950/10;
			}

			p {
				@apply bg-blue-500;
			}
		}
	}

	#mobile-home {
		@apply px-4 pt-4 sm:hidden;

		ul {
			@apply flex items-start gap-4;

			li {
				button {
					@apply flex origin-center cursor-pointer flex-col items-center gap-2 transition-all duration-300 hover:scale-[1.02];
				}

				img {
					@apply size-16 rounded-xl object-contain;
				}

				p {
					@apply text-center text-xs font-medium text-white;
				}
			}
		}
	}

	.mobile-window-header {
		@apply dark:bg-dark-700/95 dark:border-dark-500 relative sticky top-0 z-10 flex h-[var(--mobile-window-header-height)] items-center justify-between gap-3 border-b border-gray-200 bg-white/90 px-4 backdrop-blur-md transition-colors duration-300;

		.mobile-header-back {
			@apply flex h-full flex-1 cursor-pointer items-center gap-1.5 text-sm leading-none text-blue-500;
		}

		.mobile-back-icon {
			@apply size-4 shrink-0;
		}

		.mobile-header-title {
			@apply font-georama line-clamp-1 flex-[1.5] text-lg leading-none text-black dark:text-white;
		}
	}
}
